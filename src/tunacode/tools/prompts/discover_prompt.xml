<?xml version="1.0" encoding="UTF-8"?>
<tool_prompt>
    <description>
Your primary search tool. Use discover for ALL code search and exploration tasks.

Describe what you want to find in natural language. The tool extracts search
terms, walks the project tree, scores file relevance, and returns a structured
report â€” replacing manual glob, grep, and read_file chains in a single call.

You MUST use this tool when you need to:
- Find where a concept, feature, or module lives in the codebase
- Understand how files relate to each other around a topic
- Locate function definitions, class hierarchies, or import graphs
- Explore unfamiliar areas of the codebase before making changes

Examples:
- "where is auth handled"
- "database schema and migrations"
- "tool registration and execution pipeline"
- "how does compaction work"
- "error handling and retry logic"

The report includes:
- File clusters grouped by directory
- Relevance markers (high/medium)
- Key symbols (functions, classes) per file
- Import dependencies
- Compact excerpts of the most relevant lines
- A file tree of relevant paths

Parameters:
- query (required): Natural language description of what to find
- directory (optional): Project root to search from (default: current directory)

Returns up to 20 most relevant files. For broad queries, narrow your
description to get more focused results. Use read_file after discovery
to inspect specific files in detail.
    </description>
</tool_prompt>
