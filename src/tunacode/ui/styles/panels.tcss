/* ============================================
 * CSS PANELS - Tool/Error/Search/Agent Display
 * NeXTSTEP: "Objects that look the same should act the same"
 *
 * These classes are applied by ChatContainer.write(panel_meta=...)
 * to CopyOnSelectStatic widgets, replacing Rich Panel() wrappers
 * so that text selection works correctly.
 * ============================================ */

/* Base chat message - no border by default */
.chat-message {
    width: 1fr;
}

/* Expand variant - full available width */
.expand {
    width: 1fr;
}

/* Shared panel structure */
.agent-panel,
.thinking-panel,
.info-panel,
.success-panel,
.warning-panel,
.tool-panel,
.error-panel,
.search-panel {
    background: $surface;
    padding: 0 1;
    margin: 0 0 1 0;
    border-top: solid $bevel-light;
    border-left: solid $bevel-light;
    border-bottom: solid $bevel-dark;
    border-right: solid $bevel-dark;
}

/* Semantic panel outlines */
.agent-panel {
    outline: solid $accent;
}

.thinking-panel {
    max-height: 6;
    overflow-y: auto;
    background: $background;
    color: $text-muted;
    border-title-color: $text-muted;
    border-title-style: bold;
    outline: solid $border;
}

.info-panel {
    outline: solid $secondary;
}

.success-panel {
    outline: solid $success;
}

.warning-panel {
    outline: solid $warning;
}

/* Tool execution panels - cyan by default */
.tool-panel {
    outline: solid $primary;
}

.tool-panel.running {
    border-top: solid $bevel-dark;
    border-left: solid $bevel-dark;
    border-bottom: solid $bevel-light;
    border-right: solid $bevel-light;
    outline: solid $accent;
}

.tool-panel.completed {
    outline: solid $success;
}

.tool-panel.failed {
    outline: solid $error;
}

/* Error panels - recovery states */
.error-panel {
    outline: solid $error;
}

.error-panel.warning {
    outline: solid $warning;
}

.error-panel.info {
    outline: solid $secondary;
}

/* Search result panels */
.search-panel {
    outline: solid $accent;
}

/* Pagination controls in search */
.pagination {
    height: 1;
    padding: 0 1;
    color: $text-muted;
}

/* Result item highlighting */
.result-item {
    padding: 0 1;
}

.result-item:hover {
    background: $surface;
}

.result-item.selected {
    background: $primary 15%;
    border-left: heavy $primary;
}

/* Recovery command styling */
.recovery-command {
    color: $primary;
    text-style: underline;
}

/* Context detail styling */
.context-detail {
    color: $text-muted;
    padding-left: 2;
}
